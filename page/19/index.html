<!DOCTYPE html>
<html lang="zh-cn">
<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="leek" />


    
     
        <meta name="google-site-verification" content="Vl02j4hnvtN2AJ3EfPjyvrHb191mbrnVtUlHgPUKBp0" />
    


<meta property="og:type" content="website">
<meta property="og:title" content="leek 自留地">
<meta property="og:url" content="https://imlike.cc/page/19/index.html">
<meta property="og:site_name" content="leek 自留地">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="leek">
<meta name="twitter:card" content="summary">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="leek 自留地" type="application/atom+xml">



    <link rel="shortcut icon" href="pics/g.jpg">



    <link href="//lf6-cdn-tos.bytecdntp.com/cdn/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//lf6-cdn-tos.bytecdntp.com/cdn/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//lf6-cdn-tos.bytecdntp.com/cdn/pace/1.0.2/pace.min.js"></script>
    <link href="//lf6-cdn-tos.bytecdntp.com/cdn/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">



<link rel="stylesheet" href="/css/style.css">



    <!-- 注释 -->
    <!-- <style> .article { opacity: 0;} </style> -->


<link href="//lf6-cdn-tos.bytecdntp.com/cdn/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>leek 自留地</title>

<script src="//lf6-cdn-tos.bytecdntp.com/cdn/jquery/2.2.4/jquery.min.js"></script>
<script src="//lf6-cdn-tos.bytecdntp.com/cdn/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//lf6-cdn-tos.bytecdntp.com/cdn/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//lf6-cdn-tos.bytecdntp.com/cdn/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 5.2.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="https://pic.superbed.cn/item/5c9f2d213a213b04176522d4" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>

        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="true" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:s@yandex.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" rel="noopener" href="https://github.com/bigleek" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa Google" target="_blank" rel="noopener" href="https://plus.google.com/bigleekcode" title="Google"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Yelee/" rel="tag">Yelee</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Yilia/" rel="tag">Yilia</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/activiti/" rel="tag">activiti</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/alist/" rel="tag">alist</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/axios/" rel="tag">axios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/binary/" rel="tag">binary</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ceph/" rel="tag">ceph</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/clickhouse/" rel="tag">clickhouse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloud/" rel="tag">cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/container/" rel="tag">container</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deepin/" rel="tag">deepin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsraech/" rel="tag">elasticsraech</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/" rel="tag">es6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flyio/" rel="tag">flyio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gdal/" rel="tag">gdal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitlab/" rel="tag">gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gnome/" rel="tag">gnome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo%E4%B8%BB%E9%A2%98/" rel="tag">hexo主题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/intellj/" rel="tag">intellj</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdk/" rel="tag">jdk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jenkins/" rel="tag">jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k8s/" rel="tag">k8s</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kibana/" rel="tag">kibana</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kubernetes/" rel="tag">kubernetes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kuboard/" rel="tag">kuboard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mail/" rel="tag">mail</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/" rel="tag">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nas/" rel="tag">nas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/no-ad/" rel="tag">no_ad</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/" rel="tag">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/onedrive/" rel="tag">onedrive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/orientDb/" rel="tag">orientDb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/" rel="tag">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/post/" rel="tag">post</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/postgres/" rel="tag">postgres</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/put/" rel="tag">put</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/repost/" rel="tag">repost</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spotify/" rel="tag">spotify</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/" rel="tag">spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springboot/" rel="tag">springboot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springcloud/" rel="tag">springcloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sublime/" rel="tag">sublime</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thunderbolt/" rel="tag">thunderbolt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vmware/" rel="tag">vmware</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vpn/" rel="tag">vpn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue-cli/" rel="tag">vue-cli</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webdav/" rel="tag">webdav</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/" rel="tag">windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wine/" rel="tag">wine</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yandex/" rel="tag">yandex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zsh/" rel="tag">zsh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%91%E6%92%AD/" rel="tag">云播</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" rel="tag">内网穿透</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A0%E9%80%9F/" rel="tag">加速</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9D%9A%E6%9E%9C%E4%BA%91/" rel="tag">坚果云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%9F%E5%90%8D/" rel="tag">域名</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A9%E7%BF%BC%E4%BA%91/" rel="tag">天翼云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%80%E5%8F%91/" rel="tag">开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%A8%E8%8D%90/" rel="tag">推荐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%90%9C%E7%8B%97%E8%BE%93%E5%85%A5%E6%B3%95/" rel="tag">搜狗输入法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%90%AC%E5%AE%B6/" rel="tag">搬家</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" rel="tag">树莓派</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/" rel="tag">知识管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%AB%99/" rel="tag">网站</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%85%BE%E8%AE%AF%E4%BA%91/" rel="tag">腾讯云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A7%86%E9%A2%91%E6%B5%81/" rel="tag">视频流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B5%84%E6%BA%90/" rel="tag">资源</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AC%E8%BD%BD/" rel="tag">转载</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6/" rel="tag">软件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/" rel="tag">软件配置</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1/" rel="tag">邮件服务</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://imlike.cc/page.html">镜像网站导航</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://imcyc.cn/">Morty</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">平时零散的知识</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="https://pic.superbed.cn/item/5c9f2d213a213b04176522d4" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:s@yandex.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/bigleek" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa Google" target="_blank" href="https://plus.google.com/bigleekcode" title="Google"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-树莓派docker搭建配置" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/1469044090.html" class="article-date">
      <time datetime="2020-04-02T23:42:52.000Z" itemprop="datePublished">2020-04-03</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/1469044090.html">树莓派docker搭建配置</a>
    </h1>
  

      </header>
      
    
        <div class="article-entry" itemprop="articleBody">
          
                
                            
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                            
                                
                                <p><h3 id="搭建docker环境"><a href="#搭建docker环境" class="headerlink" title="搭建docker环境"></a>搭建docker环境</h3><p>如果你过去安装过 docker，先删掉:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove docker docker-engine docker.io</span><br></pre></td></tr></table></figure>

<p>
                              
                          
                    
              <!-- 
              
              <h3 id="搭建docker环境"><a href="#搭建docker环境" class="headerlink" title="搭建docker环境"></a>搭建docker环境</h3><p>如果你过去安装过 docker，先删掉:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove docker docker-engine docker.io</span><br></pre></td></tr></table></figure>

<p>首先安装依赖:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install apt-transport-https ca-certificates curl gnupg2 software-properties-common</span><br></pre></td></tr></table></figure>

<p>信任 Docker 的 GPG 公钥:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;debian&#x2F;gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure>

<p>如果你是树莓派或其它ARM架构计算机，请运行:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;deb [arch&#x3D;armhf] https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;docker-ce&#x2F;linux&#x2F;debian \     $(lsb_release -cs) stable&quot; | \    sudo tee &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;docker.list</span><br></pre></td></tr></table></figure>

<p>最后安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get updatesudo apt-get install docker-ce</span><br></pre></td></tr></table></figure>

<h2 id="使用脚本自动安装"><a href="#使用脚本自动安装" class="headerlink" title="使用脚本自动安装"></a>使用脚本自动安装</h2><p>在测试或开发环境中 Docker 官方为了简化安装流程，提供了一套便捷的安装脚本，Raspbian 系统上可以使用这套脚本安装，另外可以通过 <code>--mirror</code> 选项使用国内源进行安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -fsSL get.docker.com -o get-docker.sh</span><br><span class="line">$ sudo sh get-docker.sh --mirror Aliyun#</span><br><span class="line">$ sudo sh get-docker.sh --mirror AzureChinaCloud</span><br></pre></td></tr></table></figure>

<p>执行这个命令后，脚本就会自动的将一切准备工作做好，并且把 Docker CE 的稳定(stable)版本安装在系统中。</p>
<h2 id="启动-Docker-CE"><a href="#启动-Docker-CE" class="headerlink" title="启动 Docker CE"></a>启动 Docker CE</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl enable docker$ sudo systemctl start docker</span><br></pre></td></tr></table></figure>

<h2 id="建立-docker-用户组"><a href="#建立-docker-用户组" class="headerlink" title="建立 docker 用户组"></a>建立 docker 用户组</h2><p>默认情况下，<code>docker</code> 命令会使用 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Unix_domain_socket">Unix socket</a> 与 Docker 引擎通讯。而只有 <code>root</code> 用户和 <code>docker</code> 组的用户才可以访问 Docker 引擎的 Unix socket。出于安全考虑，一般 Linux 系统上不会直接使用 <code>root</code> 用户。因此，更好地做法是将需要使用 <code>docker</code> 的用户加入 <code>docker</code> 用户组。</p>
<p>建立 <code>docker</code> 组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo groupadd docker</span><br></pre></td></tr></table></figure>

<p>将当前用户加入 <code>docker</code> 组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo usermod -aG docker $USER</span><br></pre></td></tr></table></figure>

<p><strong>退出当前终端并重新登录，进行如下测试。</strong></p>
<h3 id="测试-Docker-是否安装正确"><a href="#测试-Docker-是否安装正确" class="headerlink" title="测试 Docker 是否安装正确"></a>测试 Docker 是否安装正确</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run hello-worldUnable to find image &#39;hello-world:latest&#39; locallylatest: Pulling from library&#x2F;hello-world4ee5c797bcd7: Pull complete Digest: sha256:f9dfddf63636d84ef479d645ab5885156ae030f611a56f3a7ac7f2fdd86d7e4eStatus: Downloaded newer image for hello-world:latestHello from Docker!This message shows that your installation appears to be working correctly.To generate this message, Docker took the following steps:1. The Docker client contacted the Docker daemon.2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.   (arm32v7)3. The Docker daemon created a new container from that image which runs the   executable that produces the output you are currently reading.4. The Docker daemon streamed that output to the Docker client, which sent it   to your terminal.To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bashShare images, automate workflows, and more with a free Docker ID: https:&#x2F;&#x2F;hub.docker.com&#x2F;For more examples and ideas, visit: https:&#x2F;&#x2F;docs.docker.com&#x2F;get-started&#x2F;</span><br></pre></td></tr></table></figure>

<h3 id="docker-compose的安装"><a href="#docker-compose的安装" class="headerlink" title="docker-compose的安装"></a>docker-compose的安装</h3><p>开始是找的国内的镜像,但是下载一直是8k的文件不能执行打开就是文件下载失败这种内容,可能是我这个网络问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https:&#x2F;&#x2F;get.daocloud.io&#x2F;docker&#x2F;compose&#x2F;releases&#x2F;download&#x2F;1.25.4&#x2F;docker-compose-&#96;uname -s&#96;-&#96;uname -m&#96; &gt; &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-composechmod +x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</span><br></pre></td></tr></table></figure>

<p>后面我找到别的资源</p>
<p>至此Docker就安装好了，再安装docker compose。<br>先看有没有pip或pip3，有就直接卸了。然后安装：</p>
<p>Bash</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get remove python-pip python3-pip</span><br><span class="line">$ wget https:&#x2F;&#x2F;bootstrap.pypa.io&#x2F;get-pip.py$ python get-pip.py$ python3 get-pip.py</span><br></pre></td></tr></table></figure>

<p>然后安装一些依赖库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install python-dev python3-dev libevent-dev python-scipy libssl-dev libffi-devapt install apt-transport-https ca-certificates curl gnupg2 software-properties-commonpip install cryptography</span><br></pre></td></tr></table></figure>

<p>查看pip版本:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@raspberrypi:~# pip3 --versionpip 19.1.1 from &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.5&#x2F;dist-packages&#x2F;pip (python 3.5)root@raspberrypi:~#</span><br></pre></td></tr></table></figure>

<p>安装docker compose<br>这里通过pip的方式安装，所以先安装pip</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install docker-compose</span><br></pre></td></tr></table></figure>

<p>如果你报了什么</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: unsupported operand type(s) for -&#x3D;: &#39;Retry&#39; and &#39;int&#39;</span><br></pre></td></tr></table></figure>

<p>这样的错误，多半是用了上古时代的pip，参考上述方式卸载重装，然后重启一下。如果是下面这样的错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip._vendor.urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host&#x3D;&#39;www.piwheels.org&#39;, port&#x3D;443): Read timed out.</span><br></pre></td></tr></table></figure>

<p><strong>是由于网络连接超时，重新执行命令就好，或者用国内镜像下载。可以多试几次</strong></p>
<p>安装好了查看版本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@raspberrypi:~# docker-compose --versiondocker-compose version 1.24.1, build 4667896root@raspberrypi:~#</span><br></pre></td></tr></table></figure>

<p>sudo pip3 install docker-compose</p>
<h3 id="设置docker镜像"><a href="#设置docker镜像" class="headerlink" title="设置docker镜像"></a>设置docker镜像</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p &#x2F;etc&#x2F;docker</span><br><span class="line">sudo tee &#x2F;etc&#x2F;docker&#x2F;daemon.json &lt;&lt;-&#39;EOF&#39;</span><br><span class="line">&#123;</span><br><span class="line">    &quot;registry-mirrors&quot;: [</span><br><span class="line">        &quot;https:&#x2F;&#x2F;1nj0zren.mirror.aliyuncs.com&quot;,</span><br><span class="line">        &quot;https:&#x2F;&#x2F;docker.mirrors.ustc.edu.cn&quot;,</span><br><span class="line">        &quot;http:&#x2F;&#x2F;f1361db2.m.daocloud.io&quot;,</span><br><span class="line">        &quot;https:&#x2F;&#x2F;registry.docker-cn.com&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>镜像加速器 镜像加速器地址 专属加速器？ 其它加速？</th>
</tr>
</thead>
<tbody><tr>
<td>Docker 中国官方镜像    <a target="_blank" rel="noopener" href="https://registry.docker-cn.com/">https://registry.docker-cn.com</a></td>
</tr>
<tr>
<td>Docker Hub DaoCloud 镜像站    <a target="_blank" rel="noopener" href="http://f1361db2.m.daocloud.io/">http://f1361db2.m.daocloud.io</a> 可登录，系统分配</td>
</tr>
<tr>
<td>Docker Hub Azure 中国镜像   <a target="_blank" rel="noopener" href="https://dockerhub.azk8s.cn/">https://dockerhub.azk8s.cn</a></td>
</tr>
<tr>
<td>Docker Hub、GCR、Quay 科大镜像站    <a target="_blank" rel="noopener" href="https://docker.mirrors.ustc.edu.cn/">https://docker.mirrors.ustc.edu.cn</a></td>
</tr>
<tr>
<td>Docker Hub、GCR、Quay 阿里云     https://<your_code>.mirror.aliyuncs.com 需登录，系统分配</td>
</tr>
<tr>
<td>Docker Hub 七牛云     <a target="_blank" rel="noopener" href="https://reg-mirror.qiniu.com/">https://reg-mirror.qiniu.com</a></td>
</tr>
<tr>
<td>Docker Hub、GCR、Quay 网易云      <a target="_blank" rel="noopener" href="https://hub-mirror.c.163.com/">https://hub-mirror.c.163.com</a></td>
</tr>
<tr>
<td>Docker Hub 腾讯云     <a target="_blank" rel="noopener" href="https://mirror.ccs.tencentyun.com/">https://mirror.ccs.tencentyun.com</a></td>
</tr>
</tbody></table>
<p>作者：y0ngb1n链接：<a target="_blank" rel="noopener" href="https://juejin.im/post/5cd2cf01f265da0374189441%E6%9D%A5%E6%BA%90%EF%BC%9A%E6%8E%98%E9%87%91%E8%91%97%E4%BD%9C%E6%9D%83%E5%BD%92%E4%BD%9C%E8%80%85%E6%89%80%E6%9C%89%E3%80%82%E5%95%86%E4%B8%9A%E8%BD%AC%E8%BD%BD%E8%AF%B7%E8%81%94%E7%B3%BB%E4%BD%9C%E8%80%85%E8%8E%B7%E5%BE%97%E6%8E%88%E6%9D%83%EF%BC%8C%E9%9D%9E%E5%95%86%E4%B8%9A%E8%BD%AC%E8%BD%BD%E8%AF%B7%E6%B3%A8%E6%98%8E%E5%87%BA%E5%A4%84%E3%80%82">https://juejin.im/post/5cd2cf01f265da0374189441来源：掘金著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</a></p>
<p>### docker命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#查看 Docker 版本</span><br><span class="line">docker -&#96;&#96;vsudo</span><br><span class="line"># 仓库&#x2F;镜像:版本（留空的话默认为 latest）</span><br><span class="line">docker pull</span><br><span class="line">sudo docker run     </span><br><span class="line"># 加参数，用来创建容器查看运行容器</span><br><span class="line">sudo docker ps     </span><br><span class="line">#查看所有下载的镜像</span><br><span class="line">sudo docker images  </span><br><span class="line">#进入容器终端</span><br><span class="line">sudo docker exec -i -t ha &#x2F;bin&#x2F;bash   </span><br><span class="line">#实时查看10行的 ha 日志</span><br><span class="line">sudo docker logs -f -t --tail 10 ha </span><br><span class="line">#重启</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">#设置 Docker 开机启动</span><br><span class="line">sudo systemctl enable  docker</span><br><span class="line">#开启 Docker 服务</span><br><span class="line">sudo systemctl start docker</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="常用配置和工具命令"><a href="#常用配置和工具命令" class="headerlink" title="常用配置和工具命令"></a>常用配置和工具命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#查看 Docker 版本docker -vsudo docker pull 仓库&#x2F;镜像:版本（留空的话默认为 latest）</span><br><span class="line">sudo docker run </span><br><span class="line">加参数，用来创建容器#查看运行容器</span><br><span class="line">sudo docker ps</span><br><span class="line">#查看所有下载的镜像</span><br><span class="line">sudo docker images</span><br><span class="line">#进入容器终端</span><br><span class="line">sudo docker exec -i -t ha &#x2F;bin&#x2F;bash</span><br><span class="line">#实时查看10行的 ha 日志</span><br><span class="line">sudo docker logs -f -t --tail 10 ha</span><br><span class="line">#重启 systemctl 守护进程</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">#设置 Docker 开机启动</span><br><span class="line">sudo systemctl enable docker</span><br><span class="line">#开启 Docker 服务</span><br><span class="line">sudo systemctl start docker </span><br><span class="line">#下载 Docker 图形化界面 portainer</span><br><span class="line">sudo docker pull portainer&#x2F;portainer</span><br><span class="line">#创建 portainer 容器</span><br><span class="line">sudo docker volume create portainer_data</span><br><span class="line">#运行portainer</span><br><span class="line">sudo docker run -d -p 9000:9000 --name portainer --restart always -v &#x2F;var&#x2F;run&#x2F;docker.sock:&#x2F;var&#x2F;run</span><br></pre></td></tr></table></figure>

<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>docker images,docker ps</p>
<p>docker pull nextcloud</p>
<p>docker pull portainer/portainer</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -ti -d --name kevin-portainer -p 9000:9000 --restart&#x3D;always -v &#x2F;var&#x2F;run&#x2F;docker.sock:&#x2F;var&#x2F;run&#x2F;docker.sock  portainer&#x2F;portainerdocker run -d -p 9000:9000 -p 8000:8000 --name portainer --restart unless-stopped -v &#x2F;var&#x2F;run&#x2F;docker.sock:&#x2F;var&#x2F;run&#x2F;docker.sock  portainer&#x2F;portainer</span><br></pre></td></tr></table></figure>

<p><a href="../img/1585911408361.png"><img src="../img/1585911408361.png" alt="1585911408361"></a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> docker volume create portainer_data</span><br><span class="line"> docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer</span><br><span class="line">该容器命名为my_portainer，将容器中portainer默认端口9000，映射到宿主机端口9000，使用socket映射 /var/run/docker.sock:/var/run/docker.sock，指定volume映射（即将portainer_volume对应的宿主机目录挂载到容器的/data目录），容器基于portainer/portainer镜像启动</span><br></pre></td></tr></table></figure>

<p><a href="../img/1585911501671.png"><img src="../img/1585911501671.png" alt="1585911501671"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;home&#x2F;nextclouddocker run --name nextcloud -p 8080:80   -v &#x2F;home&#x2F;nextcloud:&#x2F;var&#x2F;www&#x2F;html&#x2F;data -d nextcloud</span><br><span class="line">参数说明：–name：设定容器名称为nextcloud-p 8080:80 ：端口映射，将宿主机8080端口映射到容器中的80端口-v &#x2F;data&#x2F;nextcloud:&#x2F;var&#x2F;www&#x2F;html&#x2F;data将容器中项目的data目录映射到本地&#x2F;data&#x2F;nextcloud目录下方便配置和数据保存-d 是以后台形式启动</span><br></pre></td></tr></table></figure>

<p><a href="../img/1585911463432.png"><img src="../img/1585911463432.png" alt="1585911463432"></a></p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1371476">https://cloud.tencent.com/developer/article/1371476</a></p>
<p>中间找不文件就选择下面这个命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;var&#x2F;lib&#x2F;find . -name &quot;config.php&quot;</span><br></pre></td></tr></table></figure>

               -->
        </div>
        
    
    <div class="article-info article-info-index">
      
      

      <!-- 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" rel="tag">树莓派</a></li></ul>
    </div>
 -->


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-树莓派设置用户和ssh,VN连接" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2385605860.html" class="article-date">
      <time datetime="2020-04-02T21:38:17.000Z" itemprop="datePublished">2020-04-03</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2385605860.html">树莓派设置用户和ssh,VN连接</a>
    </h1>
  

      </header>
      
    
        <div class="article-entry" itemprop="articleBody">
          
                
                            
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                            
                                
                                <p><p>启动后的树莓派页面</p>
<p><a href="../img/1585892445445.png"><img src="../img/1585892445445.png" alt="1585892445445"></a></p>
<h2 id="ssh-连接使用private-key"><a href="#ssh-连接使用private-key" class="headerlink" title="ssh 连接使用private-key"></a>ssh 连接使用private-key</h2><p>首先是需要你已经生成了本地的秘钥,然后将本地的公钥加入到对方的authorized_keys中ssh-copy-id传过去</p>
<p>
                              
                          
                    
              <!-- 
              
              <p>启动后的树莓派页面</p>
<p><a href="../img/1585892445445.png"><img src="../img/1585892445445.png" alt="1585892445445"></a></p>
<h2 id="ssh-连接使用private-key"><a href="#ssh-连接使用private-key" class="headerlink" title="ssh 连接使用private-key"></a>ssh 连接使用private-key</h2><p>首先是需要你已经生成了本地的秘钥,然后将本地的公钥加入到对方的authorized_keys中ssh-copy-id传过去</p>
<p>否则可以直接用用户和密码登陆</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~&#x2F;.ssh&#x2F;id_rsa.pub | ssh  USERNAME@IP-ADDRESS &#39;cat &gt;&gt; .ssh&#x2F;authorized_keys&#39;ssh-copy-id YOU-USERNAME@IP-ADDRESS</span><br></pre></td></tr></table></figure>

<h3 id="设置国内源"><a href="#设置国内源" class="headerlink" title="设置国内源"></a>设置国内源</h3><p><a target="_blank" rel="noopener" href="https://mirror.tuna.tsinghua.edu.cn/help/raspbian/">https://mirror.tuna.tsinghua.edu.cn/help/raspbian/</a></p>
<p>树莓派选择Debian 10 (buster)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 编辑 &#96;&#x2F;etc&#x2F;apt&#x2F;sources.list&#96; 文件，删除原文件所有内容，用以下内容取代：</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;raspbian&#x2F;raspbian&#x2F; buster main non-free contribdeb-src http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;raspbian&#x2F;raspbian&#x2F; buster main non-free contrib</span><br><span class="line"># 编辑 &#96;&#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;raspi.list&#96; 文件，删除原文件所有内容，用以下内容取代：</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;raspberrypi&#x2F; buster main ui</span><br></pre></td></tr></table></figure>

<h3 id="设置期间的问题"><a href="#设置期间的问题" class="headerlink" title="设置期间的问题"></a>设置期间的问题</h3><ol>
<li><p>sudo root 报su: 鉴定故障</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">entos7 su 鉴定故障解决方法Linux(fedora\centos\ubuntu等)终端窗口运行 su 输入密码，提示鉴定失败。根据网上查询的原因是：安装linux时，未输入ROOT密码；或新建用户，勾选“设为管理员”，仅为新用户设置密码。未设置ROOT密码，系统检测失败。亲测解决方法如下：打开终端 ：sudo passwd root输入当前用户密码，然后输入设置的root密码。(重新设置root密码）</span><br></pre></td></tr></table></figure>
</li>
<li><p>sudo chmod -777 /home</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo: &#x2F;etc&#x2F;sudoers 可被任何人写sudo: 没有找到有效的 sudoers 资源，退出sudo: 无法初始化策略插件</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;etc&#x2F;sudoers下面的权限修改回去需要直接修改说不定就直接出什么问题了sudo su - chmod 777 &#x2F;etc&#x2F;sudoers echo &#39;username  ALL&#x3D;(ALL)    ALL&#39; &gt;&gt; &#x2F;etc&#x2F;sudoers</span><br></pre></td></tr></table></figure>
</li>
<li><p>Ubuntu vi 上下左右变ABCD问题解决方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一.执行命令 sudo apt-get remove vim-common 二 .  sudo apt-get install vimcp &#x2F;etc&#x2F;vim&#x2F;vimrc ~&#x2F;.vimrc  &#x2F;&#x2F;没网用这个</span><br></pre></td></tr></table></figure></li>
</ol>

               -->
        </div>
        
    
    <div class="article-info article-info-index">
      
      

      <!-- 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" rel="tag">树莓派</a></li></ul>
    </div>
 -->


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-vue和element-ui初步使用" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/3181160514.html" class="article-date">
      <time datetime="2020-04-01T21:13:13.000Z" itemprop="datePublished">2020-04-02</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/3181160514.html">vue和element-ui初步使用</a>
    </h1>
  

      </header>
      
    
        <div class="article-entry" itemprop="articleBody">
          
                
                            
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                            
                                
                                <p><p>是一套用于构建用户界面的<strong>渐进式框架</strong>。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/single-file-components.html">现代化的工具链</a>以及各种<a target="_blank" rel="noopener" href="https://github.com/vuejs/awesome-vue#libraries--plugins">支持类库</a>结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。是一种 MVVM (Model-View-ViewModel)</p>
<ol>
<li><h3 id="使用vue首先是需要导入vue-js-下面就是简单的vue对象"><a href="#使用vue首先是需要导入vue-js-下面就是简单的vue对象" class="headerlink" title="使用vue首先是需要导入vue.js,下面就是简单的vue对象"></a>使用vue首先是需要导入vue.js,下面就是简单的vue对象</h3></li>
<p>
                              
                          
                    
              <!-- 
              
              <p>是一套用于构建用户界面的<strong>渐进式框架</strong>。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/single-file-components.html">现代化的工具链</a>以及各种<a target="_blank" rel="noopener" href="https://github.com/vuejs/awesome-vue#libraries--plugins">支持类库</a>结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。是一种 MVVM (Model-View-ViewModel)</p>
<ol>
<li><h3 id="使用vue首先是需要导入vue-js-下面就是简单的vue对象"><a href="#使用vue首先是需要导入vue-js-下面就是简单的vue对象" class="headerlink" title="使用vue首先是需要导入vue.js,下面就是简单的vue对象"></a>使用vue首先是需要导入vue.js,下面就是简单的vue对象</h3></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![processInstance](&#x2F;home&#x2F;leek&#x2F;桌面&#x2F;processInstance.png)&lt;div id&#x3D;&quot;app&quot;&gt;    &lt;h2&gt;&#123;&#123;name&#125;&#125; 显示&lt;&#x2F;h2&gt;&lt;&#x2F;div&gt;&lt;script src&#x3D;&quot;.&#x2F;node_modules&#x2F;vue&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;    &#x2F;&#x2F; 生成一个Vue实例    var app &#x3D; new Vue(&#123;        el:&quot;#app&quot;, &#x2F;&#x2F; el,即element。要渲染的的页面元素        data:&#123; &#x2F;&#x2F; 数据            name:&quot;like&quot;        &#125;    &#125;)&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li><h3 id="标签绑定数据"><a href="#标签绑定数据" class="headerlink" title="标签绑定数据"></a>标签绑定数据</h3></li>
</ol>
<p>常见数据绑定的熟悉是</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#v-text">v-text</a> 绑定的值直接显示不解析</li>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#v-html">v-html</a> <strong>内容按普通 HTML 插入 - 不会作为 Vue 模板进行编译</strong></li>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#v-show">v-show</a> 是否显示</li>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#v-if">v-if</a> <strong>内容按普通 HTML 插入 - 不会作为 Vue 模板进行编译</strong></li>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#v-for">v-for</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-for&#x3D;&quot;(item, index) in items&quot;&gt;&lt;&#x2F;div&gt;&lt;div v-for&#x3D;&quot;(val, key) in object&quot;&gt;&lt;&#x2F;div&gt; &lt;div v-for&#x3D;&quot;(val, name, index) in object&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#v-on">v-on</a> 可以用@缩写@click,@node-click</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#v-bind">v-bind</a> 可以用:缩写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.prop - 作为一个 DOM property 绑定而不是作为 attribute 绑定。(差别在哪里？).camel - (2.1.0+) 将 kebab-case 特性名转换为 camelCase. (从 2.1.0 开始支持).sync (2.3.0+) 语法糖，会扩展成一个更新父组件绑定值的 v-on 侦听器。</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol>
<li><h3 id="vue的声明周期"><a href="#vue的声明周期" class="headerlink" title="vue的声明周期"></a>vue的声明周期</h3></li>
</ol>
<p><a href="../img/lifecycle.png"><img src="../img/lifecycle.png" alt="lifecycle"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var app &#x3D; new Vue(&#123;    el: &quot;#app&quot;,    data: &#123;        num: 0    &#125;,    beforeCreate() &#123;        console.log(&quot;创建前&quot;)    &#125;,    created() &#123;        console.log(&quot;创建&quot;)    &#125;,    beforeMount() &#123;        console.log(&quot;计数前&quot;)    &#125;,    mounted() &#123;        console.log(&quot;计数了&quot;)    &#125;,&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="element-UI相关的"><a href="#element-UI相关的" class="headerlink" title="element-UI相关的"></a>element-UI相关的</h2><ol>
<li><h3 id="element-UI"><a href="#element-UI" class="headerlink" title="element-UI"></a>element-UI</h3><p>网站快速成型工具:一套为开发者、设计师和产品经理准备的基于 Vue 2.0 的桌面端组件库 <a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/container">网站</a></p>
</li>
<li><h3 id="element-UI-目前我看到的标签-表格"><a href="#element-UI-目前我看到的标签-表格" class="headerlink" title="element-UI 目前我看到的标签(表格,)"></a>element-UI 目前我看到的标签(表格,)</h3><h4 id="标签1-gt-el-pagination-用于分页-下面是它的相关参数"><a href="#标签1-gt-el-pagination-用于分页-下面是它的相关参数" class="headerlink" title="标签1-&gt;el-pagination 用于分页 下面是它的相关参数"></a>标签1-&gt;el-pagination 用于分页 下面是它的相关参数</h4><p>Attributes</p>
<p>| 参数 | 说明 | 类型 | 可选值 | 默认值 |<br>| ——————- | ———————————————————— | ——– | ———————————————————— | ————————————– |<br>| small | 是否使用小型分页样式 | boolean | — | false |<br>| background | 是否为分页按钮添加背景色 | boolean | — | false |<br>| page-size | 每页显示条目个数，支持 .sync 修饰符 | number | — | 10 |<br>| total | 总条目数 | number | — | — |<br>| page-count | 总页数，total 和 page-count 设置任意一个就可以达到显示页码的功能；如果要支持 page-sizes 的更改，则需要使用 total 属性 | Number | — | — |<br>| pager-count | 页码按钮的数量，当总页数超过该值时会折叠 | number | 大于等于 5 且小于等于 21 的奇数 | 7 |<br>| current-page | 当前页数，支持 .sync 修饰符 | number | — | 1 |<br>| layout | 组件布局，子组件名用逗号分隔 | String | <code>sizes</code>, <code>prev</code>, <code>pager</code>, <code>next</code>, <code>jumper</code>, <code>-&gt;</code>, <code>total</code>, <code>slot</code> | ‘prev, pager, next, jumper, -&gt;, total’ |<br>| page-sizes | 每页显示个数选择器的选项设置 | number[] | — | [10, 20, 30, 40, 50, 100] |<br>| popper-class | 每页显示个数选择器的下拉框类名 | string | — | — |<br>| prev-text | 替代图标显示的上一页文字 | string | — | — |<br>| next-text | 替代图标显示的下一页文字 | string | — | — |<br>| disabled | 是否禁用 | boolean | — | false |<br>| hide-on-single-page | 只有一页时是否隐藏 | boolean | — | - |</p>
<h3 id="¶-Events"><a href="#¶-Events" class="headerlink" title="¶ Events"></a><a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/pagination#events">¶</a> Events</h3><p>| 事件名称 | 说明 | 回调参数 |<br>| ————– | ———————————- | ——– |<br>| size-change | pageSize 改变时会触发 | 每页条数 |<br>| current-change | currentPage 改变时会触发 | 当前页 |<br>| prev-click | 用户点击上一页按钮改变当前页后触发 | 当前页 |<br>| next-click | 用户点击下一页按钮改变当前页后触发 | 当前页 |</p>
<h4 id="标签2-gt-el-tooltip-用于显示提示"><a href="#标签2-gt-el-tooltip-用于显示提示" class="headerlink" title="标签2-&gt;el-tooltip 用于显示提示"></a>标签2-&gt;el-tooltip 用于显示提示</h4></li>
</ol>
<p>Attributes</p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">说明</th>
<th align="center">类型</th>
<th align="center">可选值</th>
<th align="center">默认值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">effect</td>
<td align="center">默认提供的主题</td>
<td align="center">String</td>
<td align="center">dark/light</td>
<td align="center">dark</td>
</tr>
<tr>
<td align="center">content</td>
<td align="center">显示的内容，也可以通过 <code>slot#content</code> 传入 DOM</td>
<td align="center">String</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">placement</td>
<td align="center">Tooltip 的出现位置</td>
<td align="center">String</td>
<td align="center">top/top-start/top-end/bottom/bottom-start/bottom-end/left/left-start/left-end/right/right-start/right-end</td>
<td align="center">bottom</td>
</tr>
<tr>
<td align="center">value / v-model</td>
<td align="center">状态是否可见</td>
<td align="center">Boolean</td>
<td align="center">—</td>
<td align="center">false</td>
</tr>
<tr>
<td align="center">disabled</td>
<td align="center">Tooltip 是否可用</td>
<td align="center">Boolean</td>
<td align="center">—</td>
<td align="center">false</td>
</tr>
<tr>
<td align="center">offset</td>
<td align="center">出现位置的偏移量</td>
<td align="center">Number</td>
<td align="center">—</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">transition</td>
<td align="center">定义渐变动画</td>
<td align="center">String</td>
<td align="center">—</td>
<td align="center">el-fade-in-linear</td>
</tr>
<tr>
<td align="center">visible-arrow</td>
<td align="center">是否显示 Tooltip 箭头，更多参数可见<a target="_blank" rel="noopener" href="https://github.com/element-component/vue-popper">Vue-popper</a></td>
<td align="center">Boolean</td>
<td align="center">—</td>
<td align="center">true</td>
</tr>
<tr>
<td align="center">popper-options</td>
<td align="center"><a target="_blank" rel="noopener" href="https://popper.js.org/documentation.html">popper.js</a> 的参数</td>
<td align="center">Object</td>
<td align="center">参考 <a target="_blank" rel="noopener" href="https://popper.js.org/documentation.html">popper.js</a> 文档</td>
<td align="center">{ boundariesElement: ‘body’, gpuAcceleration: false }</td>
</tr>
<tr>
<td align="center">open-delay</td>
<td align="center">延迟出现，单位毫秒</td>
<td align="center">Number</td>
<td align="center">—</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">manual</td>
<td align="center">手动控制模式，设置为 true 后，mouseenter 和 mouseleave 事件将不会生效</td>
<td align="center">Boolean</td>
<td align="center">—</td>
<td align="center">false</td>
</tr>
<tr>
<td align="center">popper-class</td>
<td align="center">为 Tooltip 的 popper 添加类名</td>
<td align="center">String</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">enterable</td>
<td align="center">鼠标是否可进入到 tooltip 中</td>
<td align="center">Boolean</td>
<td align="center">—</td>
<td align="center">true</td>
</tr>
<tr>
<td align="center">hide-after</td>
<td align="center">Tooltip 出现后自动隐藏延时，单位毫秒，为 0 则不会自动隐藏</td>
<td align="center">number</td>
<td align="center">—</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">tabindex</td>
<td align="center">Tooltip 组件的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex">tabindex</a></td>
<td align="center">number</td>
<td align="center">—</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="标签3-gt-el-table-用于显示表格-目前主要是用这个"><a href="#标签3-gt-el-table-用于显示表格-目前主要是用这个" class="headerlink" title="标签3-&gt;el-table 用于显示表格,目前主要是用这个"></a>标签3-&gt;el-table 用于显示表格,目前主要是用这个</h4><p>Table Attributes</p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">说明</th>
<th align="center">类型</th>
<th align="center">可选值</th>
<th align="center">默认值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">data</td>
<td align="center">显示的数据</td>
<td align="center">array</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">height</td>
<td align="center">Table 的高度，默认为自动高度。如果 height 为 number 类型，单位 px；如果 height 为 string 类型，则这个高度会设置为 Table 的 style.height 的值，Table 的高度会受控于外部样式。</td>
<td align="center">string/number</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">max-height</td>
<td align="center">Table 的最大高度。合法的值为数字或者单位为 px 的高度。</td>
<td align="center">string/number</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">stripe</td>
<td align="center">是否为斑马纹 table</td>
<td align="center">boolean</td>
<td align="center">—</td>
<td align="center">false</td>
</tr>
<tr>
<td align="center">border</td>
<td align="center">是否带有纵向边框</td>
<td align="center">boolean</td>
<td align="center">—</td>
<td align="center">false</td>
</tr>
<tr>
<td align="center">size</td>
<td align="center">Table 的尺寸</td>
<td align="center">string</td>
<td align="center">medium / small / mini</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">fit</td>
<td align="center">列的宽度是否自撑开</td>
<td align="center">boolean</td>
<td align="center">—</td>
<td align="center">true</td>
</tr>
<tr>
<td align="center">show-header</td>
<td align="center">是否显示表头</td>
<td align="center">boolean</td>
<td align="center">—</td>
<td align="center">true</td>
</tr>
<tr>
<td align="center">highlight-current-row</td>
<td align="center">是否要高亮当前行</td>
<td align="center">boolean</td>
<td align="center">—</td>
<td align="center">false</td>
</tr>
<tr>
<td align="center">current-row-key</td>
<td align="center">当前行的 key，只写属性</td>
<td align="center">String,Number</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">row-class-name</td>
<td align="center">行的 className 的回调方法，也可以使用字符串为所有行设置一个固定的 className。</td>
<td align="center">Function({row, rowIndex})/String</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">row-style</td>
<td align="center">行的 style 的回调方法，也可以使用一个固定的 Object 为所有行设置一样的 Style。</td>
<td align="center">Function({row, rowIndex})/Object</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">cell-class-name</td>
<td align="center">单元格的 className 的回调方法，也可以使用字符串为所有单元格设置一个固定的 className。</td>
<td align="center">Function({row, column, rowIndex, columnIndex})/String</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">cell-style</td>
<td align="center">单元格的 style 的回调方法，也可以使用一个固定的 Object 为所有单元格设置一样的 Style。</td>
<td align="center">Function({row, column, rowIndex, columnIndex})/Object</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">header-row-class-name</td>
<td align="center">表头行的 className 的回调方法，也可以使用字符串为所有表头行设置一个固定的 className。</td>
<td align="center">Function({row, rowIndex})/String</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">header-row-style</td>
<td align="center">表头行的 style 的回调方法，也可以使用一个固定的 Object 为所有表头行设置一样的 Style。</td>
<td align="center">Function({row, rowIndex})/Object</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">header-cell-class-name</td>
<td align="center">表头单元格的 className 的回调方法，也可以使用字符串为所有表头单元格设置一个固定的 className。</td>
<td align="center">Function({row, column, rowIndex, columnIndex})/String</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">header-cell-style</td>
<td align="center">表头单元格的 style 的回调方法，也可以使用一个固定的 Object 为所有表头单元格设置一样的 Style。</td>
<td align="center">Function({row, column, rowIndex, columnIndex})/Object</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">row-key</td>
<td align="center">行数据的 Key，用来优化 Table 的渲染；在使用 reserve-selection 功能与显示树形数据时，该属性是必填的。类型为 String 时，支持多层访问：<code>user.info.id</code>，但不支持 <code>user.info[0].id</code>，此种情况请使用 <code>Function</code>。</td>
<td align="center">Function(row)/String</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">empty-text</td>
<td align="center">空数据时显示的文本内容，也可以通过 <code>slot=&quot;empty&quot;</code> 设置</td>
<td align="center">String</td>
<td align="center">—</td>
<td align="center">暂无数据</td>
</tr>
<tr>
<td align="center">default-expand-all</td>
<td align="center">是否默认展开所有行，当 Table 包含展开行存在或者为树形表格时有效</td>
<td align="center">Boolean</td>
<td align="center">—</td>
<td align="center">false</td>
</tr>
<tr>
<td align="center">expand-row-keys</td>
<td align="center">可以通过该属性设置 Table 目前的展开行，需要设置 row-key 属性才能使用，该属性为展开行的 keys 数组。</td>
<td align="center">Array</td>
<td align="center">—</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">default-sort</td>
<td align="center">默认的排序列的 prop 和顺序。它的<code>prop</code>属性指定默认的排序的列，<code>order</code>指定默认排序的顺序</td>
<td align="center">Object</td>
<td align="center"><code>order</code>: ascending, descending</td>
<td align="center">如果只指定了<code>prop</code>, 没有指定<code>order</code>, 则默认顺序是ascending</td>
</tr>
<tr>
<td align="center">tooltip-effect</td>
<td align="center">tooltip <code>effect</code> 属性</td>
<td align="center">String</td>
<td align="center">dark/light</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">show-summary</td>
<td align="center">是否在表尾显示合计行</td>
<td align="center">Boolean</td>
<td align="center">—</td>
<td align="center">false</td>
</tr>
<tr>
<td align="center">sum-text</td>
<td align="center">合计行第一列的文本</td>
<td align="center">String</td>
<td align="center">—</td>
<td align="center">合计</td>
</tr>
<tr>
<td align="center">summary-method</td>
<td align="center">自定义的合计计算方法</td>
<td align="center">Function({ columns, data })</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">span-method</td>
<td align="center">合并行或列的计算方法</td>
<td align="center">Function({ row, column, rowIndex, columnIndex })</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">select-on-indeterminate</td>
<td align="center">在多选表格中，当仅有部分行被选中时，点击表头的多选框时的行为。若为 true，则选中所有行；若为 false，则取消选择所有行</td>
<td align="center">Boolean</td>
<td align="center">—</td>
<td align="center">true</td>
</tr>
<tr>
<td align="center">indent</td>
<td align="center">展示树形数据时，树节点的缩进</td>
<td align="center">Number</td>
<td align="center">—</td>
<td align="center">16</td>
</tr>
<tr>
<td align="center">lazy</td>
<td align="center">是否懒加载子节点数据</td>
<td align="center">Boolean</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">load</td>
<td align="center">加载子节点数据的函数，lazy 为 true 时生效，函数第二个参数包含了节点的层级信息</td>
<td align="center">Function(row, treeNode, resolve)</td>
<td align="center">—</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">tree-props</td>
<td align="center">渲染嵌套数据的配置选项</td>
<td align="center">Object</td>
<td align="center">—</td>
<td align="center">{ hasChildren: ‘hasChildren’, children: ‘children’ }</td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/table#table-events">¶</a> Table Events</p>
<table>
<thead>
<tr>
<th align="center">事件名</th>
<th align="center">说明</th>
<th align="center">参数</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="center">select</td>
<td align="center">当用户手动勾选数据行的 Checkbox 时触发的事件</td>
<td align="center">selection, row</td>
<td></td>
</tr>
<tr>
<td align="center">select-all</td>
<td align="center">当用户手动勾选全选 Checkbox 时触发的事件</td>
<td align="center">selection</td>
<td></td>
</tr>
<tr>
<td align="center">selection-change</td>
<td align="center">当选择项发生变化时会触发该事件</td>
<td align="center">selection</td>
<td></td>
</tr>
<tr>
<td align="center">cell-mouse-enter</td>
<td align="center">当单元格 hover 进入时会触发该事件</td>
<td align="center">row, column, cell, event</td>
<td></td>
</tr>
<tr>
<td align="center">cell-mouse-leave</td>
<td align="center">当单元格 hover 退出时会触发该事件</td>
<td align="center">row, column, cell, event</td>
<td></td>
</tr>
<tr>
<td align="center">cell-click</td>
<td align="center">当某个单元格被点击时会触发该事件</td>
<td align="center">row, column, cell, event</td>
<td></td>
</tr>
<tr>
<td align="center">cell-dblclick</td>
<td align="center">当某个单元格被双击击时会触发该事件</td>
<td align="center">row, column, cell, event</td>
<td></td>
</tr>
<tr>
<td align="center">row-click</td>
<td align="center">当某一行被点击时会触发该事件</td>
<td align="center">row, column, event</td>
<td></td>
</tr>
<tr>
<td align="center">row-contextmenu</td>
<td align="center">当某一行被鼠标右键点击时会触发该事件</td>
<td align="center">row, column, event</td>
<td></td>
</tr>
<tr>
<td align="center">row-dblclick</td>
<td align="center">当某一行被双击时会触发该事件</td>
<td align="center">row, column, event</td>
<td></td>
</tr>
<tr>
<td align="center">header-click</td>
<td align="center">当某一列的表头被点击时会触发该事件</td>
<td align="center">column, event</td>
<td></td>
</tr>
<tr>
<td align="center">header-contextmenu</td>
<td align="center">当某一列的表头被鼠标右键点击时触发该事件</td>
<td align="center">column, event</td>
<td></td>
</tr>
<tr>
<td align="center">sort-change</td>
<td align="center">当表格的排序条件发生变化的时候会触发该事件</td>
<td align="center">{ column, prop, order }</td>
<td></td>
</tr>
<tr>
<td align="center">filter-change</td>
<td align="center">当表格的筛选条件发生变化的时候会触发该事件，参数的值是一个对象，对象的 key 是 column 的 columnKey，对应的 value 为用户选择的筛选条件的数组。</td>
<td align="center">filters</td>
<td></td>
</tr>
<tr>
<td align="center">current-change</td>
<td align="center">当表格的当前行发生变化的时候会触发该事件，如果要高亮当前行，请打开表格的 highlight-current-row 属性</td>
<td align="center">currentRow, oldCurrentRow</td>
<td></td>
</tr>
<tr>
<td align="center">header-dragend</td>
<td align="center">当拖动表头改变了列的宽度的时候会触发该事件</td>
<td align="center">newWidth, oldWidth, column, event</td>
<td></td>
</tr>
<tr>
<td align="center">expand-change</td>
<td align="center">当用户对某一行展开或者关闭的时候会触发该事件（展开行时，回调的第二个参数为 expandedRows；树形表格时第二参数为 expanded）</td>
<td align="center">row, (expandedRows \</td>
<td>expanded)</td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/table#table-methods">¶</a> Table Methods</p>
<table>
<thead>
<tr>
<th align="center">方法名</th>
<th align="center">说明</th>
<th align="center">参数</th>
</tr>
</thead>
<tbody><tr>
<td align="center">clearSelection</td>
<td align="center">用于多选表格，清空用户的选择</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">toggleRowSelection</td>
<td align="center">用于多选表格，切换某一行的选中状态，如果使用了第二个参数，则是设置这一行选中与否（selected 为 true 则选中）</td>
<td align="center">row, selected</td>
</tr>
<tr>
<td align="center">toggleAllSelection</td>
<td align="center">用于多选表格，切换所有行的选中状态</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">toggleRowExpansion</td>
<td align="center">用于可展开表格与树形表格，切换某一行的展开状态，如果使用了第二个参数，则是设置这一行展开与否（expanded 为 true 则展开）</td>
<td align="center">row, expanded</td>
</tr>
<tr>
<td align="center">setCurrentRow</td>
<td align="center">用于单选表格，设定某一行为选中行，如果调用时不加参数，则会取消目前高亮行的选中状态。</td>
<td align="center">row</td>
</tr>
<tr>
<td align="center">clearSort</td>
<td align="center">用于清空排序条件，数据会恢复成未排序的状态</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">clearFilter</td>
<td align="center">不传入参数时用于清空所有过滤条件，数据会恢复成未过滤的状态，也可传入由columnKey组成的数组以清除指定列的过滤条件</td>
<td align="center">columnKey</td>
</tr>
<tr>
<td align="center">doLayout</td>
<td align="center">对 Table 进行重新布局。当 Table 或其祖先元素由隐藏切换为显示时，可能需要调用此方法</td>
<td align="center">—</td>
</tr>
<tr>
<td align="center">sort</td>
<td align="center">手动对 Table 进行排序。参数<code>prop</code>属性指定排序列，<code>order</code>指定排序顺序。</td>
<td align="center">prop: string, order: string</td>
</tr>
</tbody></table>

               -->
        </div>
        
    
    <div class="article-info article-info-index">
      
      

      <!-- 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li></ul>
    </div>
 -->


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-VUE初级教程" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/1664911364.html" class="article-date">
      <time datetime="2020-03-30T18:08:13.000Z" itemprop="datePublished">2020-03-31</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/1664911364.html">VUE初级教程</a>
    </h1>
  

      </header>
      
    
        <div class="article-entry" itemprop="articleBody">
          
                
                            
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                            
                                
                                <p><p><a target="_blank" rel="noopener" href="http://caibaojian.com/fetching-data-with-vue-js.html">使用Vue.js和Axios从第三方API获取请求数据</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jianxian/p/11938752.html">axios之Vue请求初始化数据放在Created还是Mounted？</a></p>
<h2 id="axios介绍"><a href="#axios介绍" class="headerlink" title="axios介绍"></a>axios介绍</h2><p>基于Promise的HTTP客户端，用于浏览器和node.js <a target="_blank" rel="noopener" href="https://github.com/axios/axios">axios-github</a></p>
<p>
                              
                          
                    
              <!-- 
              
              <p><a target="_blank" rel="noopener" href="http://caibaojian.com/fetching-data-with-vue-js.html">使用Vue.js和Axios从第三方API获取请求数据</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jianxian/p/11938752.html">axios之Vue请求初始化数据放在Created还是Mounted？</a></p>
<h2 id="axios介绍"><a href="#axios介绍" class="headerlink" title="axios介绍"></a>axios介绍</h2><p>基于Promise的HTTP客户端，用于浏览器和node.js <a target="_blank" rel="noopener" href="https://github.com/axios/axios">axios-github</a></p>
<ul>
<li>制作<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">的XMLHttpRequest</a>从浏览器</li>
<li>让<a target="_blank" rel="noopener" href="http://nodejs.org/api/http.html">HTTP</a>从node.js的请求</li>
<li>支持<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> API</li>
<li>拦截请求和响应</li>
<li>转换请求和响应数据</li>
<li>取消请求</li>
<li>JSON数据的自动转换</li>
<li>客户端支持以防止<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">XSRF</a></li>
</ul>
<h3 id="vue的初始化过程"><a href="#vue的初始化过程" class="headerlink" title="vue的初始化过程"></a>vue的初始化过程</h3><p><a href="../img/lifecycle.png"><img src="../img/lifecycle.png" alt="lifecycle"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var app &#x3D; new Vue(&#123;        el: &quot;#app&quot;,        data: &#123;            num: 0        &#125;,        beforeCreate() &#123;                console.log(&quot;创建前&quot;)        &#125;,        created() &#123;            console.log(&quot;创建&quot;)        &#125;,        beforeMount() &#123;            console.log(&quot;计数前&quot;)        &#125;,        mounted() &#123;            console.log(&quot;计数了&quot;)        &#125;,    &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="之前赋值不到vue的data里"><a href="#之前赋值不到vue的data里" class="headerlink" title="之前赋值不到vue的data里"></a>之前赋值不到vue的data里</h2><p>最开始放在 created(),mounted()都可以赋值过去</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var mydata&#x3D;&quot;&quot; ;var app &#x3D; new Vue(&#123;        el: &quot;#app&quot;,        data: &#123;            num: 0,            tableDataA:mydata        &#125;,        beforeCreate() &#123;                console.log(&quot;创建前&quot;)        &#125;,        created() &#123;            console.log(&quot;创建&quot;)        &#125;,        beforeMount() &#123;            console.log(&quot;计数前&quot;)        &#125;,        mounted() &#123;            console.log(&quot;计数了&quot;)        &#125;,    &#125;)</span><br><span class="line">axios.get(&#39;http:&#x2F;&#x2F;localhost:8081&#x2F;BackSpace&#x2F;test&#39;)    .then(function (response) &#123;    &#x2F;&#x2F; mydata&#x3D;response.data 刚开始使用的这个 但是一直赋值不过去        &#x2F;&#x2F;这个方法也不行,this不能指代当前这个app对象    this.tableDataA&#x3D;response.data&#125;)    .catch(function (error) &#123;    console.log(error);&#125;);</span><br></pre></td></tr></table></figure>

<p>成功的版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&#39;http:&#x2F;&#x2F;localhost:8081&#x2F;BackSpace&#x2F;test&#39;).then(response &#x3D;&gt; &#123;this.tableDataA&#x3D;response.data&#125;).catch(function (error) &#123;console.log(error);&#125;);</span><br></pre></td></tr></table></figure>
               -->
        </div>
        
    
    <div class="article-info article-info-index">
      
      

      <!-- 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li></ul>
    </div>
 -->


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-VScode优化和插件推荐" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2425517015.html" class="article-date">
      <time datetime="2020-03-28T21:38:31.000Z" itemprop="datePublished">2020-03-29</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2425517015.html">VScode优化和插件推荐</a>
    </h1>
  

      </header>
      
    
        <div class="article-entry" itemprop="articleBody">
          
                
                            
                                  
                                  
                                  
                                  
                                  
                                  
                            
                          
                    
              <!-- 
              
              <h4 id="Auto-Close-Tag-自动闭合标签"><a href="#Auto-Close-Tag-自动闭合标签" class="headerlink" title="Auto Close Tag 自动闭合标签"></a>Auto Close Tag 自动闭合标签</h4><h4 id="Auto-Rename-Tag-尾部闭合标签同步修改"><a href="#Auto-Rename-Tag-尾部闭合标签同步修改" class="headerlink" title="Auto Rename Tag 尾部闭合标签同步修改"></a>Auto Rename Tag 尾部闭合标签同步修改</h4><h4 id="Live-Server-实时预览"><a href="#Live-Server-实时预览" class="headerlink" title="Live Server 实时预览"></a>Live Server 实时预览</h4><h4 id="Bracket-Pair-Colorizer-用不同颜色高亮显示匹配的括号"><a href="#Bracket-Pair-Colorizer-用不同颜色高亮显示匹配的括号" class="headerlink" title="Bracket Pair Colorizer 用不同颜色高亮显示匹配的括号"></a>Bracket Pair Colorizer 用不同颜色高亮显示匹配的括号</h4><h4 id="Highlight-Matching-Tag-高亮显示匹配标签"><a href="#Highlight-Matching-Tag-高亮显示匹配标签" class="headerlink" title="Highlight Matching Tag 高亮显示匹配标签"></a>Highlight Matching Tag 高亮显示匹配标签</h4><h4 id="Vscode-icons-VSCode-文件图标"><a href="#Vscode-icons-VSCode-文件图标" class="headerlink" title="Vscode-icons VSCode 文件图标"></a>Vscode-icons VSCode 文件图标</h4><h3 id="优化字段的字体"><a href="#优化字段的字体" class="headerlink" title="优化字段的字体"></a>优化字段的字体</h3><p> 需要编辑 Editor: Font Family 下我的设置<strong>‘Droid Sans Mono’, ‘monospace’, monospace, ‘Droid Sans Fallback’</strong></p>

               -->
        </div>
        
    
    <div class="article-info article-info-index">
      
      

      <!-- 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li></ul>
    </div>
 -->


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Linux下搭建vue环境以及出现No command &#39;vue&#39;found" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/3693735390.html" class="article-date">
      <time datetime="2020-03-27T00:47:43.000Z" itemprop="datePublished">2020-03-27</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/3693735390.html">Linux下搭建vue环境以及出现No command &#39;vue&#39;found</a>
    </h1>
  

      </header>
      
    
        <div class="article-entry" itemprop="articleBody">
          
                
                            
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                            
                                
                                <p><h3 id="搭建nodejs环境"><a href="#搭建nodejs环境" class="headerlink" title="搭建nodejs环境"></a>搭建nodejs环境</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 下载node的Linux版2. 解压后放在&#x2F;user&#x2F;local&#x2F; 下或者其他位置3. 设置国内的淘宝源  </span><br><span class="line">npm config set registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org  </span><br><span class="line">或者使用</span><br><span class="line">npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br><span class="line">安装完成后同样要建软链接，否则在使用   		  </span><br><span class="line">cnpm时会报No command &#39;cnpm&#39; found的错误。sudo ln -s &#x2F;home&#x2F;formularoom&#x2F;env&#x2F;node-v8.1.2-linux-x64&#x2F;bin&#x2F;cnpm &#x2F;usr&#x2F;local&#x2F;bin&#x2F;cnpm</span><br></pre></td></tr></table></figure>

<p>常见npm设置命令 npm config get/set xxxx ,其中xxx代指prefix ,registry等,其对于的配置文件地址 ~/.npmrc</p>
<p>
                              
                          
                    
              <!-- 
              
              <h3 id="搭建nodejs环境"><a href="#搭建nodejs环境" class="headerlink" title="搭建nodejs环境"></a>搭建nodejs环境</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 下载node的Linux版2. 解压后放在&#x2F;user&#x2F;local&#x2F; 下或者其他位置3. 设置国内的淘宝源  </span><br><span class="line">npm config set registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org  </span><br><span class="line">或者使用</span><br><span class="line">npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br><span class="line">安装完成后同样要建软链接，否则在使用   		  </span><br><span class="line">cnpm时会报No command &#39;cnpm&#39; found的错误。sudo ln -s &#x2F;home&#x2F;formularoom&#x2F;env&#x2F;node-v8.1.2-linux-x64&#x2F;bin&#x2F;cnpm &#x2F;usr&#x2F;local&#x2F;bin&#x2F;cnpm</span><br></pre></td></tr></table></figure>

<p>常见npm设置命令 npm config get/set xxxx ,其中xxx代指prefix ,registry等,其对于的配置文件地址 ~/.npmrc</p>
<h3 id="下载vuejs"><a href="#下载vuejs" class="headerlink" title="下载vuejs"></a>下载vuejs</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g vue-cli</span><br></pre></td></tr></table></figure>

<h3 id="出现-No-command-‘vue’found"><a href="#出现-No-command-‘vue’found" class="headerlink" title="出现 No command ‘vue’found"></a>出现 No command ‘vue’found</h3><p>由于 /usr/local/bin下面没有对于命令所以显示找不到这个命令,需要建立软链接</p>
<p>sudo ln -s /usr/local/node-v8.9.3-linux-x64/bin/vue /usr/local/bin/vue</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/FormulaRoom/article/details/73920741">Linux下Vue开发环境搭建一篇全搞定</a></p>

               -->
        </div>
        
    
    <div class="article-info article-info-index">
      
      

      <!-- 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/npm/" rel="tag">npm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li></ul>
    </div>
 -->


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-提交文件MultipartFile后ZipEntry.size一直为-1" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/3269460028.html" class="article-date">
      <time datetime="2020-03-16T23:18:32.000Z" itemprop="datePublished">2020-03-17</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/3269460028.html">提交文件MultipartFile后ZipEntry.size一直为-1</a>
    </h1>
  

      </header>
      
    
        <div class="article-entry" itemprop="articleBody">
          
                
                            
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                            
                                
                                <p><p>先看一下代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">importModels</span> <span class="params">(MultipartFile file)</span> <span class="keyword">throws</span> IOException, InvalidFormatException </span>&#123;</span><br><span class="line">     ZipInputStream zipInputStream = <span class="keyword">new</span> ZipInputStream(file.getInputStream(), Charset.defaultCharset());</span><br><span class="line">     BufferedInputStream bs = <span class="keyword">new</span> BufferedInputStream(zipInputStream);</span><br><span class="line">     Map&lt;String, Map&gt; stringMapMap;</span><br><span class="line">     Map&lt;String, String&gt; modelJsons = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">     ZipEntry zipEntry;</span><br><span class="line">     String zipFileName;</span><br><span class="line">     <span class="keyword">while</span> ((zipEntry = zipInputStream.getNextEntry()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">         <span class="keyword">if</span> (zipEntry.isDirectory()) &#123;                <span class="comment">// do nothing  </span></span><br><span class="line"></span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (zipEntry.getName().endsWith(<span class="string">&quot;json&quot;</span>)) &#123;</span><br><span class="line">             String name = zipEntry.getName();</span><br><span class="line"></span><br><span class="line">             <span class="keyword">long</span> size = zipEntry.getSize();</span><br><span class="line">             <span class="keyword">if</span> (size == -<span class="number">1</span>) &#123;</span><br><span class="line">                 ByteArrayOutputStream baos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">                 <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                     <span class="keyword">int</span> bytes = zipInputStream.read();</span><br><span class="line">                     <span class="keyword">if</span> (bytes == -<span class="number">1</span>) &#123;</span><br><span class="line">                         <span class="keyword">break</span>;</span><br><span class="line">                     &#125;</span><br><span class="line">                     baos.write(bytes);</span><br><span class="line">                 &#125;</span><br><span class="line">                 baos.close();</span><br><span class="line">                 System.out.println(String.format(<span class="string">&quot;Name:%s,Content:%s&quot;</span>, name, <span class="keyword">new</span> String(baos.toByteArray())));</span><br><span class="line">             &#125; <span class="keyword">else</span> &#123; <span class="comment">// ZipEntry的size正常     </span></span><br><span class="line">                 <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[(<span class="keyword">int</span>) zipEntry.getSize()];</span><br><span class="line">                 zipInputStream.read(bytes, <span class="number">0</span>, (<span class="keyword">int</span>) zipEntry.getSize());</span><br><span class="line">                 System.out.println(String.format(<span class="string">&quot;Name:%s,Content:%s&quot;</span>, name, <span class="keyword">new</span> String(bytes)));</span><br><span class="line">             &#125;</span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (zipEntry.getName().endsWith(<span class="string">&quot;xlxs&quot;</span>)) &#123;               <span class="comment">//do other things      </span></span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             <span class="keyword">return</span>;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>
                              
                          
                    
              <!-- 
              
              <p>先看一下代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">importModels</span> <span class="params">(MultipartFile file)</span> <span class="keyword">throws</span> IOException, InvalidFormatException </span>&#123;</span><br><span class="line">     ZipInputStream zipInputStream = <span class="keyword">new</span> ZipInputStream(file.getInputStream(), Charset.defaultCharset());</span><br><span class="line">     BufferedInputStream bs = <span class="keyword">new</span> BufferedInputStream(zipInputStream);</span><br><span class="line">     Map&lt;String, Map&gt; stringMapMap;</span><br><span class="line">     Map&lt;String, String&gt; modelJsons = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">     ZipEntry zipEntry;</span><br><span class="line">     String zipFileName;</span><br><span class="line">     <span class="keyword">while</span> ((zipEntry = zipInputStream.getNextEntry()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">         <span class="keyword">if</span> (zipEntry.isDirectory()) &#123;                <span class="comment">// do nothing  </span></span><br><span class="line"></span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (zipEntry.getName().endsWith(<span class="string">&quot;json&quot;</span>)) &#123;</span><br><span class="line">             String name = zipEntry.getName();</span><br><span class="line"></span><br><span class="line">             <span class="keyword">long</span> size = zipEntry.getSize();</span><br><span class="line">             <span class="keyword">if</span> (size == -<span class="number">1</span>) &#123;</span><br><span class="line">                 ByteArrayOutputStream baos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">                 <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                     <span class="keyword">int</span> bytes = zipInputStream.read();</span><br><span class="line">                     <span class="keyword">if</span> (bytes == -<span class="number">1</span>) &#123;</span><br><span class="line">                         <span class="keyword">break</span>;</span><br><span class="line">                     &#125;</span><br><span class="line">                     baos.write(bytes);</span><br><span class="line">                 &#125;</span><br><span class="line">                 baos.close();</span><br><span class="line">                 System.out.println(String.format(<span class="string">&quot;Name:%s,Content:%s&quot;</span>, name, <span class="keyword">new</span> String(baos.toByteArray())));</span><br><span class="line">             &#125; <span class="keyword">else</span> &#123; <span class="comment">// ZipEntry的size正常     </span></span><br><span class="line">                 <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[(<span class="keyword">int</span>) zipEntry.getSize()];</span><br><span class="line">                 zipInputStream.read(bytes, <span class="number">0</span>, (<span class="keyword">int</span>) zipEntry.getSize());</span><br><span class="line">                 System.out.println(String.format(<span class="string">&quot;Name:%s,Content:%s&quot;</span>, name, <span class="keyword">new</span> String(bytes)));</span><br><span class="line">             &#125;</span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (zipEntry.getName().endsWith(<span class="string">&quot;xlxs&quot;</span>)) &#123;               <span class="comment">//do other things      </span></span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             <span class="keyword">return</span>;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="文件提交后台"><a href="#文件提交后台" class="headerlink" title="文件提交后台"></a>文件提交后台</h2><p>是提交后天后文件并不是在本地,网上之前有提供zipfile后读取在我这边是不可能实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">while ((ze &#x3D; zin.getNextEntry()) !&#x3D; null) &#123;</span><br><span class="line">               BufferedReader bufferedReader &#x3D; new BufferedReader(new InputStreamReader(zin));</span><br><span class="line">               BufferedReader reader &#x3D; new BufferedReader(new InputStreamReader(file.getInputStream()));</span><br><span class="line">               String str;</span><br><span class="line">               while ((str &#x3D; reader.readLine()) !&#x3D; null) &#123;</span><br><span class="line">                   System.out.println(str);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br></pre></td></tr></table></figure>

<p>上面的读取的是整个Zip文件,和要求不符</p>
<p><a target="_blank" rel="noopener" href="http://cxis.me/2018/03/03/%E4%B8%8A%E4%BC%A0Zip%E6%96%87%E4%BB%B6%E4%B8%8D%E8%A7%A3%E5%8E%8B%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E6%97%B6ZipEntry%E7%9A%84size%E4%B8%BA-1%E7%9A%84%E9%97%AE%E9%A2%98/">上传Zip文件不解压读取文件内容时ZipEntry的size为-1的问题</a></p>

               -->
        </div>
        
    
    <div class="article-info article-info-index">
      
      

      <!-- 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring/" rel="tag">spring</a></li></ul>
    </div>
 -->


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-ubuntu导致不能复制剪切板" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/3534202997.html" class="article-date">
      <time datetime="2020-03-03T21:20:16.000Z" itemprop="datePublished">2020-03-04</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/3534202997.html">ubuntu导致不能复制剪切板</a>
    </h1>
  

      </header>
      
    
        <div class="article-entry" itemprop="articleBody">
          
                
                            
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                            
                                
                                <p><h3 id="剪切板不能共享"><a href="#剪切板不能共享" class="headerlink" title="剪切板不能共享"></a>剪切板不能共享</h3><p> 以Ubuntu为主机(host)的系统,在vmware的虚拟机(guest)一直无法复制剪切板上的文字,网上看到的都是给Linux的虚拟机安装 vmware tools 的过程,刚开始以为是Linux主机导致 vmware workspace无法安装</p>
<p> 因为我看到所有Windows安装VMware Workstation的软件在有vmware tools后都有重新安装 tools的<a href="../img/vm.png"><img src="../img/vm.png" alt="img"></a></p>
<p>所以后面我都以为是系统缘故导致的</p>
<p>
                              
                          
                    
              <!-- 
              
              <h3 id="剪切板不能共享"><a href="#剪切板不能共享" class="headerlink" title="剪切板不能共享"></a>剪切板不能共享</h3><p> 以Ubuntu为主机(host)的系统,在vmware的虚拟机(guest)一直无法复制剪切板上的文字,网上看到的都是给Linux的虚拟机安装 vmware tools 的过程,刚开始以为是Linux主机导致 vmware workspace无法安装</p>
<p> 因为我看到所有Windows安装VMware Workstation的软件在有vmware tools后都有重新安装 tools的<a href="../img/vm.png"><img src="../img/vm.png" alt="img"></a></p>
<p>所以后面我都以为是系统缘故导致的</p>
<h3 id="确定原因和解决方案"><a href="#确定原因和解决方案" class="headerlink" title="确定原因和解决方案"></a>确定原因和解决方案</h3><p>最近有不文档需要复制,我就准备重新下载安装VMware Workstation<a target="_blank" rel="noopener" href="https://my.vmware.com/cn/web/vmware/details?downloadGroup=WKST-1551-LX&productId=799&rPId=39514">链接地址</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Name: VMware-Workstation-Full-15.5.1-15018445.x86_64.bundle发行日期: 2019-11-12内部版本号: 15018445This Workstation bundle includes the full product and VMware Tools for Linux 64-bit operating systems.MD5SUM: dfaa7c3b858df839db6d006437142e98SHA1SUM: c82e66f28fb5cc6fac4c38c55727cc45b916d107SHA256SUM: 490f8fe8d874c27601c155c1b2c0055ad0d4f14feb32fa9f18643659a147d3c6</span><br></pre></td></tr></table></figure>

<p>发现其实是附带了tools,然后我就找到<a target="_blank" rel="noopener" href="https://my.vmware.com/web/vmware/details?downloadGroup=VMTOOLS10310&productId=742">Download VMware Tools 10.3.10</a> 的链接,然后下载解压下面是目录结构</p>
<p><a href="../img/1583206861166.png"><img src="../img/1583206861166.png" alt="1583206861166"></a></p>
<p>给对于虚拟机安装上后就可以复制了下面是 <a target="_blank" rel="noopener" href="https://docs.vmware.com/en/VMware-Workstation-Pro/15.0/com.vmware.ws.using.doc/GUID-08BB9465-D40A-4E16-9E15-8C016CC8166F.html">Linux的安装步骤方法1</a> <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/34e85ad3cfad">Linux的安装步骤方法2</a></p>
<p>需要注意的的tools安装文件已经在上面压缩包里面都有了,所以直接解压执行省略步骤方法前面的几个步骤</p>

               -->
        </div>
        
    
    <div class="article-info article-info-index">
      
      

      <!-- 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vmware/" rel="tag">vmware</a></li></ul>
    </div>
 -->


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-activiti用法和结构" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/745403789.html" class="article-date">
      <time datetime="2020-02-17T23:34:02.000Z" itemprop="datePublished">2020-02-18</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/745403789.html">activiti用法和结构</a>
    </h1>
  

      </header>
      
    
        <div class="article-entry" itemprop="articleBody">
          
                
                            
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                            
                                
                                <p><p><a href="https://imlike.cc/3807663978.html">activiti零零碎碎的记录</a> 包括processengineConfiguration -&gt;processEngine-&gt;respositoryService 下面的各个类和方法</p>
<h3 id="支持的事件类型"><a href="#支持的事件类型" class="headerlink" title="支持的事件类型"></a>支持的事件类型</h3><p>​    下面是引擎中可能出现的所有activiti事件类型。每个类型都对应<code>org.activiti.engine.delegate.event.ActivitiEventType</code>中的一个枚举值。</p>
<p>Table 3.2. 支持的事件**</p>
<p>
                              
                          
                    
              <!-- 
              
              <p><a href="https://imlike.cc/3807663978.html">activiti零零碎碎的记录</a> 包括processengineConfiguration -&gt;processEngine-&gt;respositoryService 下面的各个类和方法</p>
<h3 id="支持的事件类型"><a href="#支持的事件类型" class="headerlink" title="支持的事件类型"></a>支持的事件类型</h3><p>​    下面是引擎中可能出现的所有activiti事件类型。每个类型都对应<code>org.activiti.engine.delegate.event.ActivitiEventType</code>中的一个枚举值。</p>
<p>Table 3.2. 支持的事件**</p>
<table>
<thead>
<tr>
<th align="center">事件名称</th>
<th align="left">描述</th>
<th align="center">事件类型</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ENGINE_CREATED</td>
<td align="left">监听器监听的流程引擎已经创建完毕，并准备好接受API调用。</td>
<td align="center"><code>org.activiti...ActivitiEvent</code></td>
</tr>
<tr>
<td align="center">ENGINE_CLOSED</td>
<td align="left">监听器监听的流程引擎已经关闭，不再接受API调用。</td>
<td align="center"><code>org.activiti...ActivitiEvent</code></td>
</tr>
<tr>
<td align="center">ENTITY_CREATED</td>
<td align="left">创建了一个新实体。实体包含在事件中。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">ENTITY_INITIALIZED</td>
<td align="left">创建了一个新实体，初始化也完成了。如果这个实体的创建会包含子实体的创建，这个事件会在子实体都创建/初始化完成后被触发，这是与<code>ENTITY_CREATED</code>的区别。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">ENTITY_UPDATED</td>
<td align="left">更新了已存在的实体。实体包含在事件中。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">ENTITY_DELETED</td>
<td align="left">删除了已存在的实体。实体包含在事件中。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">ENTITY_SUSPENDED</td>
<td align="left">暂停了已存在的实体。实体包含在事件中。会被ProcessDefinitions, ProcessInstances 和 Tasks抛出。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">ENTITY_ACTIVATED</td>
<td align="left">激活了已存在的实体，实体包含在事件中。会被ProcessDefinitions, ProcessInstances 和 Tasks抛出。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">JOB_EXECUTION_SUCCESS</td>
<td align="left">作业执行成功。job包含在事件中。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">JOB_EXECUTION_FAILURE</td>
<td align="left">作业执行失败。作业和异常信息包含在事件中。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code> and <code>org.activiti...ActivitiExceptionEvent</code></td>
</tr>
<tr>
<td align="center">JOB_RETRIES_DECREMENTED</td>
<td align="left">因为作业执行失败，导致重试次数减少。作业包含在事件中。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">TIMER_FIRED</td>
<td align="left">触发了定时器。job包含在事件中。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">JOB_CANCELED</td>
<td align="left">取消了一个作业。事件包含取消的作业。作业可以通过API调用取消， 任务完成后对应的边界定时器也会取消，在新流程定义发布时也会取消。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">ACTIVITY_STARTED</td>
<td align="left">一个节点开始执行</td>
<td align="center"><code>org.activiti...ActivitiActivityEvent</code></td>
</tr>
<tr>
<td align="center">ACTIVITY_COMPLETED</td>
<td align="left">一个节点成功结束</td>
<td align="center"><code>org.activiti...ActivitiActivityEvent</code></td>
</tr>
<tr>
<td align="center">ACTIVITY_SIGNALED</td>
<td align="left">一个节点收到了一个信号</td>
<td align="center"><code>org.activiti...ActivitiSignalEvent</code></td>
</tr>
<tr>
<td align="center">ACTIVITY_MESSAGE_RECEIVED</td>
<td align="left">一个节点收到了一个消息。在节点收到消息之前触发。收到后，会触发<code>ACTIVITY_SIGNAL</code>或<code>ACTIVITY_STARTED</code>，这会根据节点的类型（边界事件，事件子流程开始事件）</td>
<td align="center"><code>org.activiti...ActivitiMessageEvent</code></td>
</tr>
<tr>
<td align="center">ACTIVITY_ERROR_RECEIVED</td>
<td align="left">一个节点收到了一个错误事件。在节点实际处理错误之前触发。 事件的<code>activityId</code>对应着处理错误的节点。 这个事件后续会是<code>ACTIVITY_SIGNALLED</code>或<code>ACTIVITY_COMPLETE</code>， 如果错误发送成功的话。</td>
<td align="center"><code>org.activiti...ActivitiErrorEvent</code></td>
</tr>
<tr>
<td align="center">UNCAUGHT_BPMN_ERROR</td>
<td align="left">抛出了未捕获的BPMN错误。流程没有提供针对这个错误的处理器。 事件的<code>activityId</code>为空。</td>
<td align="center"><code>org.activiti...ActivitiErrorEvent</code></td>
</tr>
<tr>
<td align="center">ACTIVITY_COMPENSATE</td>
<td align="left">一个节点将要被补偿。事件包含了将要执行补偿的节点id。</td>
<td align="center"><code>org.activiti...ActivitiActivityEvent</code></td>
</tr>
<tr>
<td align="center">VARIABLE_CREATED</td>
<td align="left">创建了一个变量。事件包含变量名，变量值和对应的分支或任务（如果存在）。</td>
<td align="center"><code>org.activiti...ActivitiVariableEvent</code></td>
</tr>
<tr>
<td align="center">VARIABLE_UPDATED</td>
<td align="left">更新了一个变量。事件包含变量名，变量值和对应的分支或任务（如果存在）。</td>
<td align="center"><code>org.activiti...ActivitiVariableEvent</code></td>
</tr>
<tr>
<td align="center">VARIABLE_DELETED</td>
<td align="left">删除了一个变量。事件包含变量名，变量值和对应的分支或任务（如果存在）。</td>
<td align="center"><code>org.activiti...ActivitiVariableEvent</code></td>
</tr>
<tr>
<td align="center">TASK_ASSIGNED</td>
<td align="left">任务被分配给了一个人员。事件包含任务。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">TASK_CREATED</td>
<td align="left">创建了新任务。它位于<code>ENTITY_CREATE</code>事件之后。当任务是由流程创建时， 这个事件会在TaskListener执行之前被执行。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">TASK_COMPLETED</td>
<td align="left">任务被完成了。它会在<code>ENTITY_DELETE</code>事件之前触发。当任务是流程一部分时，事件会在流程继续运行之前， 后续事件将是<code>ACTIVITY_COMPLETE</code>，对应着完成任务的节点。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">TASK_TIMEOUT</td>
<td align="left">任务已超时，在<code>TIMER_FIRED</code>事件之后，会触发用户任务的超时事件， 当这个任务分配了一个定时器的时候。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">PROCESS_COMPLETED</td>
<td align="left">流程已结束。在最后一个节点的<code>ACTIVITY_COMPLETED</code>事件之后触发。 当流程到达的状态，没有任何后续连线时， 流程就会结束。</td>
<td align="center"><code>org.activiti...ActivitiEntityEvent</code></td>
</tr>
<tr>
<td align="center">MEMBERSHIP_CREATED</td>
<td align="left">用户被添加到一个组里。事件包含了用户和组的id。</td>
<td align="center"><code>org.activiti...ActivitiMembershipEvent</code></td>
</tr>
<tr>
<td align="center">MEMBERSHIP_DELETED</td>
<td align="left">用户被从一个组中删除。事件包含了用户和组的id。</td>
<td align="center"><code>org.activiti...ActivitiMembershipEvent</code></td>
</tr>
<tr>
<td align="center">MEMBERSHIPS_DELETED</td>
<td align="left">所有成员被从一个组中删除。在成员删除之前触发这个事件，所以他们都是可以访问的。 因为性能方面的考虑，不会为每个成员触发单独的<code>MEMBERSHIP_DELETED</code>事件。</td>
<td align="center"><code>org.activiti...ActivitiMembershipEvent</code></td>
</tr>
</tbody></table>
<h2 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h2><p>​    业务流程是软件项目的一部分，它也应该和普通的业务流程一样进行测试： 使用单元测试。 因为Activiti是一个嵌入式的java引擎， 为业务流程编写单元测试和写普通单元测试完全一样。</p>
<p>​    Activiti支持JUnit 3和4进行单元测试。使用JUnit 3时， 必须集成<code>org.activiti.engine.test.ActivitiTestCase</code>。 它通过保护的成员变量提供ProcessEngine和服务， 在测试的<code>setup()</code>中， 默认会使用classpath下的<code>activiti.cfg.xml</code>初始化流程引擎。 想使用不同的配置文件，可以重写*getConfigurationResource()*方法。 如果配置文件相同的话，对应的流程引擎会被静态缓存， 就可以用于多个单元测试。</p>
<p>​    继承了<code>ActivitiTestCase</code>你，可以在测试方法上使用 <code>org.activiti.engine.test.Deployment</code>注解。 测试执行前，与测试类在同一个包下的， 格式为<code>testClassName.testMethod.bpmn20.xml</code>的资源文件，会被部署。 测试结束后，发布包也会被删除，包括所有相关的流程实例，任务，等等。 <code>Deployment</code>注解也可以直接设置资源的位置。 参考<a target="_blank" rel="noopener" href="http://www.mossle.com/docs/javadocs/org/activiti/engine/test/Deployment.html">Javadocs</a>获得更多信息。</p>
<p>​    把这些放在一起，JUnit 3测试看起来像这样。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public class MyBusinessProcessTest extends ActivitiTestCase &#123;</span><br><span class="line">    @Deployment</span><br><span class="line">    public void testSimpleProcess() &#123;</span><br><span class="line">        runtimeService.startProcessInstanceByKey(&quot;simpleProcess&quot;);</span><br><span class="line">        Task task &#x3D; taskService.createTaskQuery().singleResult();</span><br><span class="line">        assertEquals(&quot;My Task&quot;, task.getName());</span><br><span class="line">        taskService.complete(task.getId());</span><br><span class="line">        assertEquals(0, runtimeService.createProcessInstanceQuery().count());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    要想在使用JUnit 4编写单元测试时获得同样的功能， 可以使用<code>org.activiti.engine.test.ActivitiRule</code>。 通过它，可以通过getter方法获得流程引擎和各种服务。 和 <code>ActivitiTestCase</code>一样（参考上面章节），使用这个<code>Rule</code> 也会启用<code>org.activiti.engine.test.Deployment</code>注解（参考上面章节使用和配置的介绍）， 它会在classpath下查找默认的配置文件。 如果配置文件相同的话，对应的流程引擎会被静态缓存， 就可以用于多个单元测试。</p>
<p>​    下面的代码演示了JUnit 4单元测试并使用了<code>ActivitiRule</code>的例子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public class MyBusinessProcessTest &#123;</span><br><span class="line">    @Rule</span><br><span class="line">    public ActivitiRule activitiRule &#x3D; new ActivitiRule();</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    @Deployment</span><br><span class="line">    public void ruleUsageExample() &#123;</span><br><span class="line">        RuntimeService runtimeService &#x3D; activitiRule.getRuntimeService();</span><br><span class="line">        runtimeService.startProcessInstanceByKey(&quot;ruleUsage&quot;);</span><br><span class="line">        TaskService taskService &#x3D; activitiRule.getTaskService();</span><br><span class="line">        Task task &#x3D; taskService.createTaskQuery().singleResult();</span><br><span class="line">        assertEquals(&quot;My Task&quot;, task.getName());</span><br><span class="line">        taskService.complete(task.getId());</span><br><span class="line">        assertEquals(0, runtimeService.createProcessInstanceQuery().count());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    当集成Spring时，使用标准的<a target="_blank" rel="noopener" href="http://www.mossle.com/docs/activiti/index.html#apiUnitTesting">Activiti测试工具类</a>是非常容易的对业务流程进行测试。 下面的例子展示了如何在一个典型的基于Spring单元测试测试业务流程：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">import org.junit.Rule;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import org.junit.runner.RunWith;</span><br><span class="line">import org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line">import org.springframework.test.context.ContextConfiguration;</span><br><span class="line">import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="line">@ContextConfiguration(&quot;classpath:org&#x2F;activiti&#x2F;spring&#x2F;test&#x2F;junit4&#x2F;springTypicalUsageTest-context.xml&quot;)</span><br><span class="line">public class MyBusinessProcessTest &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    private RuntimeService runtimeService;</span><br><span class="line">    @Autowired</span><br><span class="line">    private TaskService taskService;</span><br><span class="line">    @Autowired</span><br><span class="line">    @Rule</span><br><span class="line">    public ActivitiRule activitiSpringRule;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    @Deployment</span><br><span class="line">    public void simpleProcessTest() &#123;</span><br><span class="line">        runtimeService.startProcessInstanceByKey(&quot;simpleProcess&quot;);</span><br><span class="line">        Task task &#x3D; taskService.createTaskQuery().singleResult();</span><br><span class="line">        assertEquals(&quot;My Task&quot;, task.getName());</span><br><span class="line">        taskService.complete(task.getId());</span><br><span class="line">        assertEquals(0, runtimeService.createProcessInstanceQuery().count());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
               -->
        </div>
        
    
    <div class="article-info article-info-index">
      
      

      <!-- 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/activiti/" rel="tag">activiti</a></li></ul>
    </div>
 -->


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-activiti数据库的分类" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2197510555.html" class="article-date">
      <time datetime="2020-02-14T00:10:04.000Z" itemprop="datePublished">2020-02-14</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2197510555.html">activiti数据库的分类</a>
    </h1>
  

      </header>
      
    
        <div class="article-entry" itemprop="articleBody">
          
                
                            
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                            
                                
                                <p><p>Activiti数据库表结构</p>
<p> Activiti工作流总共包含23张数据表，所有的表名默认以“<strong>ACT_</strong>”开头。</p>
<p>并且表名的第二部分用两个字母表明表的用例，而这个用例也基本上跟Service API匹配。</p>
<p>
                              
                          
                    
              <!-- 
              
              <p>Activiti数据库表结构</p>
<p> Activiti工作流总共包含23张数据表，所有的表名默认以“<strong>ACT_</strong>”开头。</p>
<p>并且表名的第二部分用两个字母表明表的用例，而这个用例也基本上跟Service API匹配。</p>
<ul>
<li><p> <strong>ACT_GE_*</strong> : “GE”代表“General”（通用），用在各种情况下；</p>
</li>
<li><p> <strong>ACT_HI_*</strong> : “HI”代表“History”（历史），这些表中保存的都是历史数据，比如执行过的流程实例、变量、任务，等等。Activit默认提供了4种历史级别：</p>
</li>
<li><p><strong>none</strong>: 不保存任何历史记录，可以提高系统性能；</p>
</li>
<li><p> <strong>activity</strong>：保存所有的流程实例、任务、活动信息；</p>
</li>
<li><p> <strong>audit</strong>：也是Activiti的<strong>默认</strong>级别，保存所有的流程实例、任务、活动、表单属性；</p>
</li>
<li><p> <strong>full</strong>：最完整的历史记录，除了包含<strong>audit</strong>级别的信息之外还能保存详细，例如：流程变量。</p>
</li>
</ul>
<p>对于几种级别根据对功能的要求选择，如果需要日后跟踪详细可以开启<strong>full</strong>。</p>
<ul>
<li><p> <strong>ACT_ID_*</strong> : “ID”代表“Identity”（身份），这些表中保存的都是身份信息，如用户和组以及两者之间的关系。如果Activiti被集成在某一系统当中的话，这些表可以不用，可以直接使用现有系统中的用户或组信息；</p>
</li>
<li><p> <strong>ACT_RE_*</strong> : “RE”代表“Repository”（仓库），这些表中保存一些‘静态’信息，如流程定义和流程资源（如图片、规则等）；</p>
</li>
<li><p><strong>ACT_RU_*</strong> : “RU”代表“Runtime”（运行时），这些表中保存一些流程实例、用户任务、变量等的运行时数据。Activiti只保存流程实例在执行过程中的运行时数据，并且当流程结束后会立即移除这些数据，这是为了保证运行时表尽量的小并运行的足够快；</p>
</li>
</ul>
<h3 id="Activiti数据表清单"><a href="#Activiti数据表清单" class="headerlink" title="Activiti数据表清单:"></a>Activiti数据表清单:</h3><table>
<thead>
<tr>
<th align="center"><strong>表分类</strong></th>
<th align="center"><strong>表名</strong></th>
<th align="center"><strong>解释</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">一般数据</td>
<td align="center">ACT_GE_BYTEARRAY</td>
<td align="center">通用的流程定义和流程资源</td>
</tr>
<tr>
<td align="center">ACT_GE_PROPERTY</td>
<td align="center">系统相关属性</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">流程历史记录</td>
<td align="center">ACT_HI_ACTINST</td>
<td align="center">历史的流程实例</td>
</tr>
<tr>
<td align="center">ACT_HI_ATTACHMENT</td>
<td align="center">历史的流程附件</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_HI_COMMENT</td>
<td align="center">历史的说明性信息</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_HI_DETAIL</td>
<td align="center">历史的流程运行中的细节信息</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_HI_IDENTITYLINK</td>
<td align="center">历史的流程运行过程中用户关系</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_HI_PROCINST</td>
<td align="center">历史的流程实例</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_HI_TASKINST</td>
<td align="center">历史的任务实例</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_HI_VARINST</td>
<td align="center">历史的流程运行中的变量信息</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">用户用户组表</td>
<td align="center">ACT_ID_GROUP</td>
<td align="center">身份信息-组信息</td>
</tr>
<tr>
<td align="center">ACT_ID_INFO</td>
<td align="center">身份信息-组信息</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_ID_MEMBERSHIP</td>
<td align="center">身份信息-用户和组关系的中间表</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_ID_USER</td>
<td align="center">身份信息-用户信息</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">流程定义表</td>
<td align="center">ACT_RE_DEPLOYMENT</td>
<td align="center">部署单元信息</td>
</tr>
<tr>
<td align="center">ACT_RE_MODEL</td>
<td align="center">模型信息</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_RE_PROCDEF</td>
<td align="center">已部署的流程定义</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">运行实例表</td>
<td align="center">ACT_RU_EVENT_SUBSCR</td>
<td align="center">运行时事件</td>
</tr>
<tr>
<td align="center">ACT_RU_EXECUTION</td>
<td align="center">运行时流程执行实例</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_RU_IDENTITYLINK</td>
<td align="center">运行时用户关系信息</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_RU_JOB</td>
<td align="center">运行时作业</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_RU_TASK</td>
<td align="center">运行时任务</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ACT_RU_VARIABLE</td>
<td align="center">运行时变量表</td>
<td align="center"></td>
</tr>
</tbody></table>

               -->
        </div>
        
    
    <div class="article-info article-info-index">
      
      

      <!-- 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/activiti/" rel="tag">activiti</a></li></ul>
    </div>
 -->


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/18/"> 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><span class="page-number current">19</span><a class="page-number" href="/page/20/">20</a><a class="page-number" href="/page/21/">21</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><a class="extend next" rel="next" href="/page/20/">下一页 </a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2025 leek
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by leek <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//lf6-cdn-tos.bytecdntp.com/cdn/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-144246563-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
             tags: ".article-tag a", 
             categories: ".article-category a, a.tag-list-link", 
            
            
            
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

    <script>
        var originTitle = document.title;
        var titleTime;
        document.addEventListener("visibilitychange", function() {
            if (document.hidden) {
                document.title = "(つェ⊂) 我藏好了哦~ " + originTitle;
                clearTimeout(titleTime);
            }
            else {
                document.title = "(*´∇｀*) 被你发现啦~ " + originTitle;
                titleTime = setTimeout(function() {
                    document.title = originTitle;
                }, 2000);
            }
        })
    </script>

<script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>